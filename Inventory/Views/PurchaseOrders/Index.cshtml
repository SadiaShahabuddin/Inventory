@model Inventory.Models.PurchaseOrder
@{
    ViewData["Title"] = "Index";
}
  <div class="card card-default color-palette-box">
      
    <div class="card-body">
           <ul class="nav nav-tabs" id="custom-content-below-tab" role="tablist">
              <li class="nav-item">
                <a class="nav-link active" id="custom-content-below-home-tab" data-toggle="pill" href="#custom-content-below-home" role="tab" aria-controls="custom-content-below-home" aria-selected="true">Purchase</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" id="custom-content-below-profile-tab" data-toggle="pill" href="#custom-content-below-profile" role="tab" aria-controls="custom-content-below-profile" aria-selected="false">Details</a>
              </li>
           
           </ul>
            <div class="tab-content" id="custom-content-below-tabContent">
              <div class="tab-pane fade show active" id="custom-content-below-home" role="tabpanel" aria-labelledby="custom-content-below-home-tab">
                      <form asp-action="Index">
                
                <div asp-validation-summary="ModelOnly" class="text-danger"></div>
              <div class="row">
                <div class="col-md-6">
                    <div class="form-group">
                        <label asp-for="PurchaseOrderName" class="control-label"></label>
                        <input asp-for="PurchaseOrderName" placeholder="Generated automatically" class="form-control" disabled/>
                        <span asp-validation-for="PurchaseOrderName" class="text-danger"></span>
                    </div>
                </div>
                  <div class="col-md-6">
                    <div class="form-group">
                        <label asp-for="BranchId" class="control-label"></label>
                        <select name="BranchId" id="BranchId" class="form-control">
                            <option disabled selected>--Please Select Branch--</option>
                        </select>
                    </div>
                  </div>
              </div>
              <div class="row">
                <div class="col-md-6">
                <div class="form-group">
                    <label asp-for="VendorId" class="control-label"></label>
                    <select name="VendorId" id="VendorId" class="form-control">
                        <option disabled selected>--Please Select Vendor--</option>
                    </select>
                </div>
                </div>
                <div class="col-md-6">
                    <div class="form-group">
                        <label asp-for="OrderDate" class="control-label"></label>
                        <input asp-for="OrderDate" class="form-control" type="date" pattern="\d{4}-\d{2}-\d{2}" title="Please enter a valid date in the format YYYY-MM-DD" />
                        <span asp-validation-for="OrderDate" class="text-danger"></span>
                    </div>
                </div>
              </div>
              <div class="row">
                <div class="col-6">
                <div class="form-group">
                    <label asp-for="DeliveryDate" class="control-label"></label>
                    <input asp-for="DeliveryDate" class="form-control" type="date" pattern="\d{4}-\d{2}-\d{2}" title="Please enter a valid date in the format YYYY-MM-DD"  />
                    <span asp-validation-for="DeliveryDate" class="text-danger"></span>
                </div>
                </div>
                <div class="col-6">
                    <div class="form-group">
                    <label asp-for="CurrencyId" class="control-label"></label>
                    <select name="CurrencyId" id="CurrencyId" class="form-control">
                        <option disabled selected>--Please Select Currency--</option>
                    </select>
                </div>
                </div>
              </div>
              <div class="row">
                <div class="col-6">
                    <div class="form-group">
                    <label asp-for="PurchaseTypeId" class="control-label"></label>
                    <select name="PurchaseTypeId" id="PurchaseTypeId" class="form-control">
                        <option disabled selected>--Please Select Purchase Type--</option>
                    </select>
                </div>
                </div>
                <div class="col-6">
                    <div class="form-group">
                        <label asp-for="Freight" class="control-label"></label>
                        <input asp-for="Freight" class="form-control" />
                        <span asp-validation-for="Freight" class="text-danger"></span>
                    </div>
                </div>
              </div>
              <br />
               <div align="center" class="form-group">
                <input type="submit" value="Create" class="btn btn-primary" />
            </div>
            </form>
            </div>
              <div class="tab-pane fade" id="custom-content-below-profile" role="tabpanel" aria-labelledby="custom-content-below-profile-tab">
                 Mauris tincidunt mi at erat gravida, eget tristique urna bibendum. Mauris pharetra purus ut ligula tempor, et vulputate metus facilisis. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Maecenas sollicitudin, nisi a luctus interdum, nisl ligula placerat mi, quis posuere purus ligula eu lectus. Donec nunc tellus, elementum sit amet ultricies at, posuere nec nunc. Nunc euismod pellentesque diam.
              </div>
            </div>
    </div>
  </div>




@section Scripts {
    <script>
        $(document).ready(function () {
            loadBranch();
            loadVendor();
            loadCurrency();
            loadPurchaseType();

        });

        function loadBranch() {
            $.ajax({
                type: "GET",
                url: "/Branches/GetAll", // Replace with the correct URL
                success: function (data) {
                    console.log(data);
                    var branchDropdown = $("#BranchId");
                    branchDropdown.empty();
                     branchDropdown.append(
                            $('<option disabled selected></option>').val('').text('--Please Select Branch--')
                        );
                    for (let index = 0; index < data.data.length; index++) {
                        const branch = data.data[index];
                        branchDropdown.append(
                            $('<option></option>').val(branch.id).text(branch.branchName)
                        );
                    }
                },
                error: function (error) {
                    console.error("Error loading branches: " + error);
                }
            });
        }
        function loadVendor() {
            $.ajax({
                type: "GET",
                url: "/Vendors/GetAll", // Replace with the correct URL
                success: function (data) {
                    console.log(data);
                    var vendorDropdown = $("#VendorId");
                    vendorDropdown.empty();
                    vendorDropdown.append(
                             $('<option disabled selected></option>').val('').text('--Please Select Vendor--')
                        );
                    for (let index = 0; index < data.data.length; index++) {
                        const vendor = data.data[index];
                        vendorDropdown.append(
                            $('<option></option>').val(vendor.id).text(vendor.vendorName)
                        );
                    }
                },
                error: function (error) {
                    console.error("Error loading vendors: " + error);
                }
            });
        }

         function loadCurrency() {
            $.ajax({
                type: "GET",
                url: "/Currencies/GetAll", // Replace with the correct URL
                success: function (data) {
                    console.log(data);
                    var currencyDropdown = $("#CurrencyId");
                    currencyDropdown.empty();
                    currencyDropdown.append(
                             $('<option disabled selected></option>').val('').text('--Please Select Currency--')
                        );
                    for (let index = 0; index < data.data.length; index++) {
                        const currency = data.data[index];
                        currencyDropdown.append(
                            $('<option></option>').val(currency.currencyId).text(currency.currencyName)
                        );
                    }
                },
                error: function (error) {
                    console.error("Error loading currencies: " + error);
                }
            });
        }
          function loadPurchaseType() {
            $.ajax({
                type: "GET",
                url: "/PurchaseTypes/GetAll", // Replace with the correct URL
                success: function (data) {
                    console.log(data);
                    var purchaseTypeDropdown = $("#PurchaseTypeId");
                    purchaseTypeDropdown.empty();
                    purchaseTypeDropdown.append(
                            $('<option disabled selected></option>').val('').text('--Please Select Purchase Type--')
                        );
                    for (let index = 0; index < data.data.length; index++) {
                        const purchaseType = data.data[index];
                        purchaseTypeDropdown.append(
                            $('<option></option>').val(purchaseType.purchaseTypeId).text(purchaseType.purchaseTypeName)
                        );
                    }
                },
                error: function (error) {
                    console.error("Error loading purchase types: " + error);
                }
            });
        }
    
      </script>
}

   
